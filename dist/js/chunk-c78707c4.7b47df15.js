(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c78707c4"],{"293c":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"tac center-content"},[a("div",{staticClass:"por clear mgt-20",staticStyle:{border:"1px solid #5d636f80","border-radius":"30px"}},[a("section",{staticClass:"col-md-7",staticStyle:{padding:"10px"}},[a("div",{staticClass:"adv-panel por"},[a("h1",{staticClass:"vertical-children"},[a("img",{attrs:{src:s("b499"),alt:"",height:"35"}}),a("h2",{staticClass:"dib mgl-5"},[t._v(t._s(t.$t("Air-drop_235")))]),a("img",{staticClass:"mgl-10 cur-point",attrs:{src:s("c2d1"),alt:"",height:"30"},on:{click:function(a){return t.oprDialog("mdx-rule-dialog","block")}}})]),a("div",{staticClass:"tac mgt-10"},[a("p",[t._v(t._s(t.$t("Festival_37")))]),t._m(0)]),a("div",{staticClass:"tal rate-show",staticStyle:{padding:"10px 0px",position:"absolute",bottom:"0px",width:"100%",left:"0px",background:"#1F232A","border-bottom-left-radius":"20px","border-bottom-right-radius":"20px"}},[a("div",{staticClass:"col-md-1"}),t._l(t.rateObj,(function(i){return a("div",{key:i.lv,staticClass:"col-md-2 col-xs-4 vertical-children mgt-5"},[a("div",{staticClass:"dib dot-bg",staticStyle:{height:"20px",width:"20px","border-radius":"20px",padding:"2px"}},[a("div",{class:"bg-new"+i.lv,staticStyle:{width:"100%",height:"100%","border-radius":"20px",border:"2px solid #1B1C21"}})]),a("div",{staticClass:"dib mgl-5",staticStyle:{"line-height":"15px"}},[a("p",[t._v(t._s(i.rate))]),a("p",{staticClass:"vertical-children"},[a("span",[t._v(t._s(i.lang)+" ")]),a("img",{attrs:{src:s("b499"),alt:"",height:"20"}})])])])})),a("div",{staticClass:"col-md-1"})],2)])]),a("section",{staticClass:"col-md-5",staticStyle:{padding:"10px"}},[a("div",{staticClass:"panel por",staticStyle:{height:"385px",padding:"10px"}},[a("section",{staticStyle:{padding:"10px"}},[a("div",{staticClass:"aveage-box tal",staticStyle:{"border-bottom":"1px solid #2f3236",padding:"15px"}},[a("div",[a("p",{staticClass:"small opa-6"},[t._v(t._s(t.$t("Air-drop_152")))]),a("h3",{staticClass:"por"},[t._v(" "+t._s(t.canUseVeMbox)+" "),a("span",{staticClass:"dib por cur-point",staticStyle:{width:"30px",position:"absolute",right:"20px",bottom:"0px"},on:{click:t.jumpVeMBOX}},[t.coinArr["GOV"].veMbox.notice&&!t.hasStake?a("span",{staticClass:"notice",staticStyle:{zoom:"0.7"}}):t._e(),a("img",{attrs:{src:s("d7f2"),alt:"",height:"30"}}),a("span",{staticClass:"tac opa-6",staticStyle:{width:"120%",position:"absolute",bottom:"-5px",left:"-10%","font-size":"12px",color:"#fff",zoom:"0.7"}},[t._v("veMBOX")])])])]),a("div",[a("p",{staticClass:"small vertical-children"},[a("span",{staticClass:"opa-6"},[t._v(t._s(t.$t("Gemstone_56")))]),t.getHighApplyNum>0?a("span",{directives:[{name:"popMsg",rawName:"v-popMsg"}],staticClass:"cur-point por dib"},[a("img",{staticClass:"mgl-10",attrs:{src:s("44e7"),alt:"",height:"30"}}),a("span",{staticClass:"popMsg left tac",staticStyle:{"min-width":"80px","text-align":"center"},domProps:{innerHTML:t._s(t.$t("Gemstone_67"))}})]):t._e()]),a("h3",[t._v(t._s(t.getMaxApplyTimes))])])]),a("div",{staticClass:"aveage-box tal",staticStyle:{padding:"15px"}},[a("div",[a("p",{staticClass:"small opa-6"},[t._v(t._s(t.$t("Air-drop_261")))]),a("h3",[t._v(t._s(t.applyInfo.nowHighAmount)+"/"+t._s(t.applyInfo.maxHighLuckyAmount))])]),a("div",[a("p",{staticClass:"small opa-6"},[t._v(t._s(t.$t("NewBOX_23")))]),a("h3",[t._v(t._s(t.numFloor(t.applyInfo.maxHighLuckyAmount/(Number(t.applyInfo.nowHighAmount)>=Number(t.applyInfo.maxHighLuckyAmount)?t.applyInfo.nowHighAmount:t.applyInfo.maxHighLuckyAmount)*100,1e3)||"-")+"%")])])])]),a("div",{staticClass:"mgt-20 aveage-box"},[a("div",{staticClass:"dib por tac"},[a("button",{staticClass:"btn-primary disable-btn",staticStyle:{margin:"10px",width:"80%"}},[t._v(t._s(t.$t("Festival_37")))]),a("p",{staticClass:"cur-point",staticStyle:{position:"absolute",width:"200%",left:"-50%"},on:{click:function(a){return t.oprDialog("mdx-rule-dialog","block")}}},[t._v(t._s(t.$t("Air-drop_236"))+">>")])]),a("div",{staticClass:"tac"},[a("StatuButton",{staticStyle:{width:"80%"},attrs:{isDisable:this.myApplyInfo.boxAmount<=0,isLoading:t.lockBtn.takeMdxBoxLock>0,onClick:t.takeBox}},[t._v(" "+t._s(t.$t("Air-drop_242").replace("#0#",this.myApplyInfo.boxAmount))+" ")])],1)]),a("div",{staticClass:"vertical-children mgt-50",staticStyle:{padding:"5px"}},[a("span",[t._v(t._s(t.$t("Air-drop_268"))+": "+t._s(t.mdxBalance)+" ")]),a("img",{staticClass:"mgl-5",attrs:{src:s("b499"),alt:"",height:"20"}})])]),a("div",{staticClass:"gemBag",staticStyle:{bottom:"20px"},on:{click:function(a){return t.oprDialog("boxBag-dialog","block")}}},[t.getTotalBoxNum>0?a("span",{staticClass:"notice-num"},[t._v(t._s(t.getTotalBoxNum))]):t._e(),a("img",{attrs:{src:s("4455"),alt:"",height:"60"}}),a("p",{staticClass:"stroke",attrs:{"data-text":t.$t("Air-drop_262")}},[t._v(t._s(t.$t("Air-drop_262")))])])])]),a("div",{staticClass:"tac mgt-10"},[a("p",{staticClass:"cur-point",on:{click:function(a){t.showRank=!t.showRank}}},[t._v(t._s(t.$t("Air-drop_243"))+" >>")])]),a("div",{staticClass:"col-md-12",class:{hide:!t.showRank}},[a("section",{staticClass:"mgt-10",staticStyle:{padding:"10px 15px",background:"#13181F","border-radius":"20px"}},[a("table",{staticClass:"small new-table",attrs:{border:"0",frame:"void",rules:"none"}},[a("tr",[a("th",{staticClass:"tal tac-xs",attrs:{width:"30%"}},[t._v(t._s(t.$t("BOX_12")))]),a("th",{staticClass:"tal",attrs:{width:"20%"}},[t._v(t._s(t.$t("BOX_26")))]),a("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("NewBOX_27")))]),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.$t("BOX_27")))]),a("th",{staticClass:"tar",attrs:{width:"40%"}},[t._v("TX")])]),t._l(t.getHistory,(function(i){return a("tr",{key:i.tx},[a("td",{staticClass:"tal tac-xs"},[t._v(t._s(t.dateFtt("yyyy-MM-dd hh:mm:ss",new Date(1e3*i.crtime))))]),a("td",{staticClass:"tal"},[Number(i.ticketStartNo)>1e6?a("span",[t._v(t._s(t.$t("NewBOX_25")))]):a("span",[t._v(t._s(t.$t("NewBOX_26")))])]),a("td",[t._v("x"+t._s(i.amountBox))]),a("td",{staticClass:"vertical-children"},[0==i.isOver?a("span",{staticStyle:{color:"#49c773"}},[t._v(t._s(t.$t("NewBOX_28")))]):a("span",[t._v(t._s(t.$t("NewBOX_29")))])]),a("td",{staticClass:"tar"},[a("img",{staticClass:"cur-point",attrs:{src:s("6c52"),height:"25",alt:""},on:{click:function(a){return t.getApplyDetial(i)}}}),t._v("Â  "),a("a",{attrs:{href:t.getTxUrl(i.tx),target:"_blank"}},[a("img",{staticClass:"cur-point",attrs:{src:s("7f52"),alt:"",height:"25"}})])])])}))],2)])]),a("MdxApply",{attrs:{applyInfo:t.applyInfo,myApplyInfo:t.myApplyInfo}}),a("Dialog",{attrs:{id:"mdx-rule-dialog",top:100,width:520}},[a("h2",[t._v(t._s(t.$t("Air-drop_236")))]),a("p",{staticClass:"tal mgt-20",domProps:{innerHTML:t._s(t.$t("Air-drop_237"))}})]),a("Dialog",{attrs:{id:"mdx-num-result-dialig",top:100,width:450}},[a("h3",[t._v(t._s(t.$t("NewBOX_16")))]),a("div",{staticClass:"tab-body mgt-10"},[a("p",{staticClass:"mgt-10 tal",staticStyle:{height:"40px","line-height":"38px","padding-left":"15px",color:"#fff","font-size":"12px",background:"rgba(27,84,245,0.10)",border:"2px solid #1b54f5","border-radius":"10px"}},[t._v(" "+t._s(t.$t("NewBOX_17"))+": "+t._s(t.historyDitail.item.ticketStartNo)+" "),t.historyDitail.item.amountBox>1?a("span",[t._v("~"+t._s(Number(t.historyDitail.item.ticketStartNo)+Number(t.historyDitail.item.amountBox-1)))]):t._e()]),a("p",{staticClass:"mgt-10 tal vertical-children",staticStyle:{height:"40px","line-height":"38px","padding-left":"15px",color:"#fff","font-size":"12px",background:"rgba(161,250,64,0.10)",border:"2px solid #A1FA40","border-radius":"10px"}},[a("span",[t._v(t._s(t.$t("NewBOX_18"))+": ")]),1==t.historyDitail.isOver?a("span",[t._v(t._s(Object.keys(t.historyDitail.wins).length))]):"-"==t.historyDitail.isOver?a("span",[a("Loading")],1):a("span",[t._v(t._s(t.$t("NewBOX_28")))])]),a("div",{staticClass:"tal vertical-children",staticStyle:{padding:"10px"}},[a("p",{staticClass:"small"},[t._v(t._s(t.$t("NewBOX_19")))]),a("div",{staticClass:"tac mgt-10",staticStyle:{background:"#000",padding:"10px 0px","border-radius":"10px","max-height":"300px","overflow-y":"auto"}},[1==t.historyDitail.isOver?a("p",[0==Object.keys(t.historyDitail.wins).length?a("span",[t._v(t._s(t.$t("NewBOX_35")))]):t._l(Object.keys(t.historyDitail.wins),(function(s){return a("span",{key:s,staticClass:"dib small",staticStyle:{background:"#2a2f35",width:"30%",padding:"10px 0px",margin:"5px","border-radius":"10px"}},[t._v(" "+t._s(s)+" ")])}))],2):"-"==t.historyDitail.isOver?a("span",[a("Loading")],1):a("span",[t._v(t._s(t.$t("NewBOX_28")))])])])])])],1)},e=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"por",staticStyle:{height:"280px"},attrs:{id:"gem-apply-type"}},[a("p",{staticStyle:{"padding-top":"20px"}},[a("img",{attrs:{src:s("f7f3"),height:"200",alt:""}})]),a("p",{staticStyle:{position:"absolute",bottom:"60px",right:"0px"}},[a("a",{staticStyle:{"text-decoration":"underline"},attrs:{target:"_blank",href:"https://bsc.mdex.co/#/swap?inputCurrency=0x9c65ab58d8d978db963e63f2bfb7121627e3a739&outputCurrency=0xe9e7cea3dedca5984780bafc599bd69add087d56"}},[a("img",{attrs:{src:s("0f0a"),alt:"",height:"20"}})])])])}],o=s("4624"),l=function(){var t=this,a=t._self._c;return a("Dialog",{attrs:{id:"mdx-apply-dialog",top:100,width:400}},[a("div",{staticClass:"ly-input-content por"},[a("p",{staticClass:"small tal"},[t._v(t._s(t.$t("Air-drop_238"))+": "+t._s(t.$parent.getMaxApplyTimes))]),a("div",{staticClass:"por mgt-5"},[a("div",{staticClass:"ly-input-pre-icon"},[a("img",{attrs:{src:s("f7f3"),alt:""}})]),a("input",{directives:[{name:"int",rawName:"v-int"},{name:"model",rawName:"v-model",value:t.inputNum,expression:"inputNum"}],staticClass:"ly-input dib",staticStyle:{"text-align":"center",width:"70%","padding-left":"50px"},attrs:{type:"text","data-max":t.$parent.getMaxApplyTimes,"data-min":"1",placeholder:t.$t("NewBOX_05")},domProps:{value:t.inputNum},on:{input:function(a){a.target.composing||(t.inputNum=a.target.value)}}}),a("div",{staticClass:"dib",staticStyle:{width:"30%"}},[a("button",{staticClass:"btn-primary btn-small",staticStyle:{width:"80%"},on:{click:function(a){t.inputNum=t.$parent.getMaxApplyTimes}}},[t._v(" Max ")])])]),a("div",{staticClass:"mgt-10 aveage-box small"},[a("p",{staticClass:"tal"},[t._v(t._s(t.$t("Air-drop_239"))+": "+t._s(t.getNowApplyNum))])])]),t.getNowApplyNum>0?a("div",{staticClass:"tal ly-input-content",staticStyle:{"margin-top":"2px"}},[a("p",{},[t._v(t._s(t.$t("NewBOX_17"))+": "),a("span",[t._v(t._s(t.getNowStartTicketNo))])])]):t._e(),a("div",{staticClass:"mgt-50"},[Number(t.applyInfo.startTime)>t.nowTs?a("span",[t._v(t._s(t.$t("Gemstone_57"))+": "+t._s(t.getLeftTime(1631678400-t.nowTs)))]):[t.isStartApply?t._e():a("p",[t._v(t._s(t.$t("NewBOX_21"))),a("span",{staticClass:"dotting"})])],a("div",[a("StatuButton",{staticClass:"mgt-10",staticStyle:{width:"70%"},attrs:{isLoading:t.lockBtn.applyMdxBoxLock>0,isDisable:!t.isCanApply,onClick:t.applyForBox}},[a("span",[t._v(t._s(t.$t("NewBOX_14")))])])],1)],2)])},n=[],r=s("2f62"),p=s("2af9"),c=s("ed08"),d={mixins:[o["a"]],components:{Dialog:p["d"],StatuButton:p["w"]},props:["applyInfo","myApplyInfo"],data(){return{inputNum:""}},computed:{...Object(r["b"])({myTotalVeMbox:t=>t.bnbState.data.myTotalVeMbox,lockBtn:t=>t.globalState.data.lockBtn,nowTs:t=>t.globalState.data.nowTs}),getNowApplyNum(){return this.getHighApplyNum},getNowStartTicketNo(){let t=this.myApplyInfo.userHighTicket;return t[0]==t[1]?t[0]:t[0]+"~"+t[1]},getHighApplyNum(){let t=0,a=this.myApplyInfo.userHighTicket;return t=a[1]-a[0]+1,0==a[0]&&(t=0),t},isCanApply(){let t=!0;return this.getNowApplyNum>0&&(t=!1),this.getMaxApplyTimes<Number(this.inputNum)&&(t=!1),this.isStartApply||(t=!1),Number(this.inputNum)<=0&&(t=!1),t},isStartApply(){return 0==this.applyInfo.roundState}},async created(){await c["e"].ETH.getAccount(),this.unLockBtn("applyMdxBoxLock")},methods:{async applyForBox(){if(Number(this.inputNum)<=0)return;let t=await c["e"].ETH.Group.MdxBox.hApplyForBox(this.inputNum,()=>{this.$parent.getUserApplyInfo(),this.$parent.getApplyInfo(),this.unLockBtn("applyMdxBoxLock"),this.inputNum=""});t&&this.lockBtnMethod("applyMdxBoxLock")}}},u=d,m=s("2877"),g=Object(m["a"])(u,l,n,!1,null,null,null),h=g.exports,y=s("f121");let x=null;var _={mixins:[o["a"]],components:{MdxApply:h,StatuButton:p["w"],Dialog:p["d"],Loading:p["h"]},data(){return{applyInfo:{maxAmount:"-",maxLuckyAmount:"-",nowAmount:"-",roundIndex:"",roundPrice:"-",roundStartTime:"-",roundState:"-",nowNormalAmount:"-",maxNormalLuckyAmount:"-",roundDuration:"-"},myApplyInfo:{frozenBalance:0,boxAmount:0,userHighTicket:[0,0],userNormalTicket:[0,0]},getCountDown:0,getHistory:[],getRecordNoArr:[],historyDitail:{isOver:"-",wins:{},item:{},ticketStartNo:0},rateObj:[{lv:1,rate:"50%",lang:"2"},{lv:2,rate:"30%",lang:"3"},{lv:3,rate:"16%",lang:"5"},{lv:4,rate:"3%",lang:"10"},{lv:5,rate:"1%",lang:"20"}],showRank:!1}},computed:{...Object(r["b"])({coinArr:t=>t.bnbState.data.coinArr,canUseVeMbox:t=>t.bnbState.data.canUseVeMbox,lockBtn:t=>t.globalState.data.lockBtn,nowTs:t=>t.globalState.data.nowTs,boxList:t=>t.userState.data.boxList,mdxBalance:t=>t.userState.data.mdxBalance}),getMaxApplyTimes(){let t=0,a=this.canUseVeMbox;return t=a<6e3?0:a<25e3?3:a<5e4?10:a<2e5?15:a<4e5?30:a<75e4?35:40,t},hasStake(){let t=!1,a=["MBOX-BNB-V2"];return a.map(a=>{this.coinArr[a].wantAmount>0&&(t=!0)}),t},getTotalBoxNum(){let t=0;return this.boxList.map(a=>{t+=Number(a.num)}),t},getHighApplyNum(){let t=0,a=this.myApplyInfo.userHighTicket;return t=a[1]-a[0]+1,0==a[0]&&(t=0),t}},async created(){this.getApplyInfo();let t=0;clearInterval(x),x=setInterval(async()=>{t++,this.getCountDown>0&&(this.getCountDown--,0==this.getCountDown&&(await this.getApplyInfo(),await this.getApplyHistory())),t%20==0&&(await this.getApplyInfo(),await this.getUserApplyInfo(),await this.getApplyHistory())},1e3),this.account=await c["e"].ETH.getAccount(),await this.getUserApplyInfo(),await this.getApplyHistory()},beforeDestroy(){clearInterval(x)},methods:{jumpVeMBOX(){if(this.hasStake){let t="MBOX-BNB-V2",a=y["e"].StakeLP,s={coinKey:t,...a[t],...this.coinArr[t]};this.$root.$children[0].$refs.vmbox.setOprData(s).show()}else this.setAction(21005),this.$root.$children[0].$refs.vmbox.setOprData(this.coinArr["GOV"]).show()},async getApplyDetial(t){this.historyDitail.isOver="-",this.historyDitail.item=t,this.oprDialog("mdx-num-result-dialig","block");let{roundIndex:a}=t,s=await c["c"].getMdxBoxApplyResult(this.account,a);this.historyDitail.isOver=s.isOver;let i={},e={};for(const o in s.wins)Number(o)>1e6?e[o]=s.wins[o]:i[o]=s.wins[o];this.historyDitail.wins=t.ticketStartNo>1e6?e:i},async getApplyHistory(){let t=await c["c"].getMdxBoxApplyHistory(this.account);t&&(this.getHistory=t.list)},async getUserApplyInfo(){let t=await c["e"].ETH.Group.MdxBox.getMyApplyInfo();t&&(this.myApplyInfo=t)},async getApplyInfo(){let t=await c["e"].ETH.Group.MdxBox.getRoundInfo();if(t){this.applyInfo=t;let a=Number(t.startTime)+Number(t.roundDuration)-parseInt((new Date).valueOf()/1e3);Number(t.startTime)>this.nowTs?this.getCountDown=Number(t.startTime)-this.nowTs:this.getCountDown=a>0?a:0}},async takeBox(){let t=await c["e"].ETH.Group.MdxBox.claimfrozenBox(async()=>{await c["a"].app.$refs.boxBag.getMyMdxBoxNum(),await this.getUserApplyInfo()});t&&this.lockBtnMethod("takeMdxBoxLock")}}},v=_,b=(s("45bc"),Object(m["a"])(v,i,e,!1,null,"bece247c",null));a["default"]=b.exports},"45bc":function(t,a,s){"use strict";s("a2f5")},a2f5:function(t,a,s){}}]);